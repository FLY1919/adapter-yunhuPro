<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>APIs | VitePress</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.DFTx90Kk.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.Ddd-ojY1.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.BZy4mN0I.js">
    <link rel="modulepreload" href="/assets/chunks/framework.CliRSA9F.js">
    <link rel="modulepreload" href="/assets/markdown_dev_apis.md.VhuGJpPY.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>VitePress</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _markdown_dev_apis" data-v-39a288b8><div><h1 id="apis" tabindex="-1">APIs <a class="header-anchor" href="#apis" aria-label="Permalink to &quot;APIs&quot;">​</a></h1><h2 id="获取-bot-实例" tabindex="-1">获取 Bot 实例 <a class="header-anchor" href="#获取-bot-实例" aria-label="Permalink to &quot;获取 Bot 实例&quot;">​</a></h2><p>以下所有 bot 均通过这样获取：</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> bot</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">values</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(ctx.bots).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">find</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">b</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b.selfId </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;your_bot_uid&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b.user?.id </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;your_bot_uid&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">||</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> bot.status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Universal.Status.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ONLINE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ctx.logger.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`机器人离线或未找到。`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (bot </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 在这里继续使用 bot.方法</span></span></code></pre></div><h2 id="消息相关-message" tabindex="-1">消息相关 (Message) <a class="header-anchor" href="#消息相关-message" aria-label="Permalink to &quot;消息相关 (Message)&quot;">​</a></h2><h3 id="sendmessage" tabindex="-1">sendMessage() <a class="header-anchor" href="#sendmessage" aria-label="Permalink to &quot;sendMessage()&quot;">​</a></h3><p>发送消息到指定的频道。这是 Koishi 的标准方法，适配器实现了其具体逻辑。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">sendMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(channelId: string, content: Fragment, guildId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> string, options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SendOptions): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string[]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><strong><code>channelId</code></strong>: 频道 ID。对于私聊，格式为 <code>private:USER_ID</code>；对于群聊，格式为 <code>group:GROUP_ID</code>。</li><li><strong><code>content</code></strong>: 要发送的消息内容，可以是字符串或使用 <code>h()</code> 创建的消息元素。</li><li><strong>返回值</strong>: <code>Promise&lt;string[]&gt;</code>，包含已发送消息的 ID 列表。</li></ul><h3 id="deletemessage" tabindex="-1">deleteMessage() <a class="header-anchor" href="#deletemessage" aria-label="Permalink to &quot;deleteMessage()&quot;">​</a></h3><p>撤回（删除）一条已发送的消息。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">deleteMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(channelId: string, messageId: string): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;void&gt;</span></span></code></pre></div><ul><li><strong><code>channelId</code></strong>: 消息所在的频道 ID。</li><li><strong><code>messageId</code></strong>: 要删除的消息 ID。</li><li><strong>返回值</strong>: <code>Promise&lt;void&gt;</code>。</li></ul><h3 id="getmessage" tabindex="-1">getMessage() <a class="header-anchor" href="#getmessage" aria-label="Permalink to &quot;getMessage()&quot;">​</a></h3><p>获取单条消息的详细信息。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(channelId: string, messageId: string): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Universal.Message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><strong><code>channelId</code></strong>: 消息所在的频道 ID。</li><li><strong><code>messageId</code></strong>: 要获取的消息 ID。</li><li><strong>返回值</strong>: <code>Promise&lt;Universal.Message&gt;</code>，一个符合 Koishi 规范的消息对象。</li></ul><h3 id="getyunhumessagelist" tabindex="-1">getYunhuMessageList() <a class="header-anchor" href="#getyunhumessagelist" aria-label="Permalink to &quot;getYunhuMessageList()&quot;">​</a></h3><p>获取云湖原始的消息列表。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getYunhuMessageList</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(channelId: string, messageId: string, options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { before?: number; after</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> number }): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">any</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><strong><code>channelId</code></strong>: 消息所在的频道 ID。</li><li><strong><code>messageId</code></strong>: 作为基准点的消息 ID。</li><li><strong><code>options</code></strong>: 可选参数。 <ul><li><code>before</code>: 获取 <code>messageId</code> 之前的消息数量。</li><li><code>after</code>: 获取 <code>messageId</code> 之后的消息数量。</li></ul></li><li><strong>返回值</strong>: <code>Promise&lt;any&gt;</code>，云湖 API 返回的原始消息列表数据。</li></ul><h2 id="资源上传-resource-upload" tabindex="-1">资源上传 (Resource Upload) <a class="header-anchor" href="#资源上传-resource-upload" aria-label="Permalink to &quot;资源上传 (Resource Upload)&quot;">​</a></h2><h3 id="uploadimage" tabindex="-1">uploadImage() <a class="header-anchor" href="#uploadimage" aria-label="Permalink to &quot;uploadImage()&quot;">​</a></h3><p>上传一张图片，获取 <code>imageKey</code>，用于发送图片消息。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uploadImage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(image: string </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Buffer): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><strong><code>image</code></strong>: 图片资源，可以是图片的 URL (字符串) 或 Buffer。</li><li><strong>返回值</strong>: <code>Promise&lt;string&gt;</code>，上传成功后返回的 <code>imageKey</code>。</li></ul><h3 id="uploadvideo" tabindex="-1">uploadVideo() <a class="header-anchor" href="#uploadvideo" aria-label="Permalink to &quot;uploadVideo()&quot;">​</a></h3><p>上传一个视频，获取 <code>videoKey</code>，用于发送视频消息。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uploadVideo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(video: string </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Buffer): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><strong><code>video</code></strong>: 视频资源，可以是视频的 URL (字符串) 或 Buffer。</li><li><strong>返回值</strong>: <code>Promise&lt;string&gt;</code>，上传成功后返回的 <code>videoKey</code>。</li></ul><h3 id="uploadfile" tabindex="-1">uploadFile() <a class="header-anchor" href="#uploadfile" aria-label="Permalink to &quot;uploadFile()&quot;">​</a></h3><p>上传一个文件，获取 <code>fileKey</code>，用于发送文件消息。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">uploadFile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(fileData: string </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Buffer): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><strong><code>fileData</code></strong>: 文件资源，可以是文件的 URL (字符串) 或 Buffer。</li><li><strong>返回值</strong>: <code>Promise&lt;string&gt;</code>，上传成功后返回的 <code>fileKey</code>。</li></ul><h2 id="用户与群组-user-guild" tabindex="-1">用户与群组 (User &amp; Guild) <a class="header-anchor" href="#用户与群组-user-guild" aria-label="Permalink to &quot;用户与群组 (User &amp; Guild)&quot;">​</a></h2><h3 id="getuser" tabindex="-1">getUser() <a class="header-anchor" href="#getuser" aria-label="Permalink to &quot;getUser()&quot;">​</a></h3><p>获取用户的详细信息。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getUser</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(userId: string): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Universal.User</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><strong><code>userId</code></strong>: 要查询的用户 ID。</li><li><strong>返回值</strong>: <code>Promise&lt;Universal.User&gt;</code>，一个符合 Koishi 规范的用户对象。</li></ul><h3 id="getguild" tabindex="-1">getGuild() <a class="header-anchor" href="#getguild" aria-label="Permalink to &quot;getGuild()&quot;">​</a></h3><p>获取群组（服务器）的详细信息。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getGuild</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(guildId: string): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Universal.Guild</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><strong><code>guildId</code></strong>: 要查询的群组 ID。</li><li><strong>返回值</strong>: <code>Promise&lt;Universal.Guild&gt;</code>，一个符合 Koishi 规范的群组对象。</li></ul><h3 id="getguildmember" tabindex="-1">getGuildMember() <a class="header-anchor" href="#getguildmember" aria-label="Permalink to &quot;getGuildMember()&quot;">​</a></h3><p>获取群组成员的详细信息。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getGuildMember</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(guildId: string, userId: string): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Universal.GuildMember</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><strong><code>guildId</code></strong>: 成员所在的群组 ID。</li><li><strong><code>userId</code></strong>: 要查询的成员的用户 ID。</li><li><strong>返回值</strong>: <code>Promise&lt;Universal.GuildMember&gt;</code>，一个符合 Koishi 规范的群组成员对象。</li></ul><h3 id="getchannel" tabindex="-1">getChannel() <a class="header-anchor" href="#getchannel" aria-label="Permalink to &quot;getChannel()&quot;">​</a></h3><p>获取频道（子频道）的详细信息。在云湖中，一个群组就是一个频道。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getChannel</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(channelId: string, guildId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> string): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Universal.Channel</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><strong><code>channelId</code></strong>: 要查询的频道 ID。</li><li><strong><code>guildId</code></strong>: (可选) 频道所在的群组 ID。</li><li><strong>返回值</strong>: <code>Promise&lt;Universal.Channel&gt;</code>，一个符合 Koishi 规范的频道对象。</li></ul><h2 id="看板-board" tabindex="-1">看板 (Board) <a class="header-anchor" href="#看板-board" aria-label="Permalink to &quot;看板 (Board)&quot;">​</a></h2><p>看板是云湖平台提供的一种置顶消息功能，像群公告。</p><h3 id="setboard" tabindex="-1">setBoard() <a class="header-anchor" href="#setboard" aria-label="Permalink to &quot;setBoard()&quot;">​</a></h3><p>为指定用户设置看板（个人看板）。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setBoard</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(chatId: string, contentType: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;text&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;markdown&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;html&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, content: string, options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { memberId?: string; expireTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> number }): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">any</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><strong><code>chatId</code></strong>: 对话 ID (私聊为用户 ID，群聊为群组 ID)。</li><li><strong><code>contentType</code></strong>: 内容类型。</li><li><strong><code>content</code></strong>: 看板内容。</li><li><strong><code>options</code></strong>: <ul><li><code>memberId</code>: 要设置看板的用户 ID。</li><li><code>expireTime</code>: (可选) 过期时间戳 (秒)。</li></ul></li><li><strong>返回值</strong>: <code>Promise&lt;any&gt;</code>，API 返回的原始数据。</li></ul><h3 id="setallboard" tabindex="-1">setAllBoard() <a class="header-anchor" href="#setallboard" aria-label="Permalink to &quot;setAllBoard()&quot;">​</a></h3><p>设置全局看板（对群内所有人生效）。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setAllBoard</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(chatId: string, contentType: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;text&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;markdown&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;html&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, content: string, options</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { expireTime?: number }): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">any</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><strong><code>chatId</code></strong>: 群组 ID。</li><li><strong><code>contentType</code></strong>: 内容类型。</li><li><strong><code>content</code></strong>: 看板内容。</li><li><strong><code>options</code></strong>: <ul><li><code>expireTime</code>: (可选) 过期时间戳 (秒)。</li></ul></li><li><strong>返回值</strong>: <code>Promise&lt;any&gt;</code>，API 返回的原始数据。</li></ul><h3 id="dismissboard" tabindex="-1">dismissBoard() <a class="header-anchor" href="#dismissboard" aria-label="Permalink to &quot;dismissBoard()&quot;">​</a></h3><p>取消指定用户的看板。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dismissBoard</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(chatId: string, chatType: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;user&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;group&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, memberId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> string): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">any</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><strong><code>chatId</code></strong>: 对话 ID。</li><li><strong><code>chatType</code></strong>: 对话类型。</li><li><strong><code>memberId</code></strong>: (可选) 要取消看板的用户 ID。如果 <code>chatType</code> 为 <code>user</code>，则此项必填。</li><li><strong>返回值</strong>: <code>Promise&lt;any&gt;</code>，API 返回的原始数据。</li></ul><h3 id="dismissallboard" tabindex="-1">dismissAllBoard() <a class="header-anchor" href="#dismissallboard" aria-label="Permalink to &quot;dismissAllBoard()&quot;">​</a></h3><p>取消全局看板。</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">bot.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dismissAllBoard</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(): </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">Promise</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">any</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre></div><ul><li><strong>返回值</strong>: <code>Promise&lt;any&gt;</code>，API 返回的原始数据。</li></ul></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"index.md\":\"BD55l7P1\",\"markdown_dev_apis.md\":\"VhuGJpPY\",\"markdown_dev_development-docs.md\":\"CFRZJa6e\",\"markdown_dev_development.md\":\"8WeDfLZO\",\"markdown_dev_events.md\":\"CTS99-DV\",\"markdown_dev_yunhu-official.md\":\"DIwgRNPO\",\"markdown_dev_yunhu-official_1_1.md\":\"Hq2R0vYy\",\"markdown_dev_yunhu-official_1_2.md\":\"DhwS-Hss\",\"markdown_dev_yunhu-official_1_3.md\":\"m4icQwvL\",\"markdown_dev_yunhu-official_300_1.md\":\"BTUVaeRX\",\"markdown_dev_yunhu-official_400_1.md\":\"D1f9pUNz\",\"markdown_dev_yunhu-official_400_10.md\":\"drLhv49c\",\"markdown_dev_yunhu-official_400_2.md\":\"qDtEop-O\",\"markdown_dev_yunhu-official_400_3.md\":\"ByWgvmP2\",\"markdown_dev_yunhu-official_400_4.md\":\"BeNj4Ru3\",\"markdown_dev_yunhu-official_400_5.md\":\"CTIktekd\",\"markdown_dev_yunhu-official_400_6.md\":\"Bk8h1eDx\",\"markdown_dev_yunhu-official_400_7.md\":\"Cnqi31Vn\",\"markdown_dev_yunhu-official_400_8.md\":\"CJbO7BRN\",\"markdown_dev_yunhu-official_400_9.md\":\"CJsu48Kl\",\"markdown_dev_yunhu-official_449_1.md\":\"UqzZzaDn\",\"markdown_dev_yunhu-official_449_2.md\":\"BJlgfWkT\",\"markdown_dev_yunhu-official_449_3.md\":\"BjpLLLns\",\"markdown_dev_yunhu-official_449_4.md\":\"CgieHbLv\",\"markdown_dev_yunhu-official_others_1.md\":\"CDF8CMom\",\"markdown_dev_yunhu-official_others_2.md\":\"DpmszbpX\",\"markdown_firstime_start.md\":\"B66DPk2l\",\"markdown_start_config.md\":\"D7oXhbTI\",\"markdown_start_errorcodes.md\":\"oybjC1IF\",\"markdown_start_issues.md\":\"kuyJbO2s\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"VitePress\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>