# 流式消息

### 请求URL

`https://chat-go.jwzhd.com/open-apis/v1/bot/send-stream?token=xxxxxxxxxx`

### 技术原理

```text
流式传输消息采用分块传输编码（Chunked transfer encoding）技术。
请求头中需要设置`Transfer-Encoding: chunked`，表示使用分块传输编码。
```

### 请求类型

`POST`

### 请求示例

```bash
curl --location 'https://chat-go.jwzhd.com/open-apis/v1/bot/send-stream?token=xxxx&recvId=7058262&recvType=user&contentType=text' \
--header 'Transfer-Encoding: chunked' \
--header 'Content-Type: text/plain' \
--data-binary '@/Users/feng/Downloads/1.txt'
```

### 请求头

```bash
Transfer-Encoding: "chunked"
```

### 请求URL参数

| 字段        | 类型   | 是否必填 | 说明                                            |
| ----------- | ------ | -------- | ----------------------------------------------- |
| recvId      | string | 是       | 接收消息对象ID<br/>用户: userId<br/>群: groupId |
| recvType    | string | 是       | 接收对象类型<br/>用户: user<br/>群: group       |
| contentType | string | 是       | 消息类型，取值如下<br/>text\\markdown           |

### 响应内容

| 字段 | 类型   | 说明                   |
| ---- | ------ | ---------------------- |
| code | int    | 响应代码               |
| msg  | string | 响应信息，包括异常信息 |
| data | Object | 返回数据               |

### 完整示例

#### 响应内容示例

```json
{
    "code": 1,
    "data": {
        "messageInfo": {
            "msgId": "xxxxxxxxxxxxxxxxx",
            "recvId": "7058262",
            "recvType": "user"
        }
    },
    "msg": "success"
}
```