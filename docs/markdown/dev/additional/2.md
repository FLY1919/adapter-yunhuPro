# API 接口示例

本文档提供了一些云湖官方文档未包含的、但实际有用的 API 接口示例。

## 1. 获取群组信息

**接口描述**

通过群组 ID (`groupId`) 获取群组的详细信息。

|                  |                                                     |
| ---------------- | --------------------------------------------------- |
| **请求 URL**     | `https://chat-web-go.jwzhd.com/v1/group/group-info` |
| **请求方法**     | `POST`                                              |
| **Content-Type** | `application/json`                                  |

**请求示例 (cURL)**
```bash
curl --location 'https://chat-web-go.jwzhd.com/v1/group/group-info' \
--header 'Content-Type: application/json' \
--data '{
    "groupId": "big"
}'
```

**请求体 (Request Body)**

```json
{
    "groupId": "big"
}
```

**响应示例 (Response)**

<details>
<summary>点击展开/折叠</summary>

```json
{
    "code": 1,
    "data": {
        "group": {
            "id": 1,    // 群聊在数据库中的序列(?)
            "groupId": "big",   // 群聊ID
            "name": "全员群·(づ｡◕‿‿◕｡)づ",  // 群聊名称
            // 群聊简介
            "introduction": "15亿用户总群\n新注册用户默认加入这个群，请不要刷屏发消息\n不想用全员群可以选择退群，退群后也可以重新加入\n玩机问题进对应手机群询问，不要在全员群询问\n\n在开始聊天前请阅读全员群规范: https://www.yhchat.com/c/p/796\n\n如有引导性消费或者不在正规平台进行交易的 请谨慎交易\n如有人称是本软件官方人员 请公开询问此群管理员或ID ",
            "createBy": "7058262",  // 创建者
            "createTime": 0,    // 创建时间戳
            "avatarId": 32040,  // 头像ID
            "avatarUrl": "https://chat-img.jwznb.com/622528d954723767f3ad265c8b7fa4b9.png", // 头像URL
            "headcount": 140033,    // 群人数
            "readHistory": 1,   // 历史消息, 1表示允许新成员获取以前的历史消息
            "category": "", // 分类
            "uri": "http://chat.jwznb.com:8888/open-apis/v1/bot/send?token=",
            "groupBotRel": {
                "id": 0,
                "groupId": "",
                "botId": "",
                "delFlag": 0,
                "createTime": 0,
                "updateTsime": 0,
                "bot": {
                    "id": 0,
                    "botId": "",
                    "nickname": "",
                    "nicknameId": 0,
                    "avatarId": 0,
                    "avatarUrl": "",
                    "token": "",
                    "link": "",
                    "introduction": "",
                    "createBy": "",
                    "createTime": 0,
                    "headcount": 0,
                    "private": 0,
                    "uri": "",
                    "checkChatInfoRecord": {
                        "id": 0,
                        "chatId": "",
                        "chatType": 0,
                        "checkWay": "",
                        "reason": "",
                        "status": 0,
                        "createTime": 0,
                        "updateTime": 0,
                        "delFlag": 0
                    }
                }
            },
            "checkChatInfoRecord": {
                "id": 1160,
                "chatId": "big",
                "chatType": 2,
                "checkWay": "",
                "reason": "",
                "status": 0,
                "createTime": 1670655084,
                "updateTime": 1760143228,
                "delFlag": 0
            }
        }
    },
    "msg": "success"
}
```

</details>

## 2. 获取机器人信息

**接口描述**

通过机器人 ID (`botId`) 获取机器人的详细信息。

|                  |                                                 |
| ---------------- | ----------------------------------------------- |
| **请求 URL**     | `https://chat-web-go.jwzhd.com/v1/bot/bot-info` |
| **请求方法**     | `POST`                                          |
| **Content-Type** | `application/json`                              |

**请求示例 (cURL)**
```bash
curl --location 'https://chat-web-go.jwzhd.com/v1/bot/bot-info' \
--header 'Content-Type: application/json' \
--data '{
    "botId": "37090343"
}'
```

**请求体 (Request Body)**

```json
{
    "botId": "37090343"
}
```

**响应示例 (Response)**

<details>
<summary>点击展开/折叠</summary>

```json
{
    "code": 1,
    "data": {
        "bot": {
            "id": 4066,
            "botId": "37090343",
            "nickname": "小学云bot",
            "nicknameId": 186474,
            "avatarId": 46831,
            "avatarUrl": "https://chat-img.jwznb.com/883830a9441c9c8a5df343f1b0a96970.png",
            "token": "",
            "link": "",
            "introduction": "使用koishi开发的云湖机器人",
            "createBy": "7756242",
            "createTime": 1756785691,
            "headcount": 1,
            "private": 0,
            "uri": "https://chat-go.jwzhd.com/open-apis/v1/bot/send?token=",
            "checkChatInfoRecord": {
                "id": 13142,
                "chatId": "37090343",
                "chatType": 3,
                "checkWay": "",
                "reason": "",
                "status": 0,
                "createTime": 1756785691,
                "updateTime": 0,
                "delFlag": 0
            }
        }
    },
    "msg": "success"
}
```

如果传入的`userId`是用户或不存在：
```json
{
    "code": -1,
    "msg": "机器人不存在"
}
```
</details>

## 3. 获取用户信息

**接口描述**

通过用户 ID (`userId`) 获取用户的公开信息。

|              |                                                  |
| ------------ | ------------------------------------------------ |
| **请求 URL** | `https://chat-web-go.jwzhd.com/v1/user/homepage` |
| **请求方法** | `GET`                                            |

**Query 参数**

| 参数     | 类型     | 必须 | 描述      |
| -------- | -------- | ---- | --------- |
| `userId` | `string` | 是   | 用户的 ID |

**请求示例 (cURL)**
```bash
curl --location 'https://chat-web-go.jwzhd.com/v1/user/homepage?userId=7756242'
```

**响应示例 (Response)**

<details>
<summary>点击展开/折叠</summary>

```json
{
    "code": 1,
    "data": {
        "user": {
            "userId": "7756242",
            "nickname": "小学不在这里哦",
            "avatarUrl": "https://chat-img.jwznb.com/c07a80a9e21dd8d10abd2bd272c39fc8.jpg",
            "registerTime": 1756135685,
            "registerTimeText": "2025-08-25 23:28:05",
            "onLineDay": 12,
            "continuousOnLineDay": 10,
            "medals": [],
            "isVip": 0
        }
    },
    "msg": "success"
}
```

如果传入的`userId`是机器人或不存在：
```json
{
    "code": 1,
    "data": {
        "user": {
            "userId": "",
            "nickname": "",
            "avatarUrl": "",
            "registerTime": 0,
            "registerTimeText": "1970-01-01 08:00:00",
            "onLineDay": 0,
            "continuousOnLineDay": 0,
            "medals": [],
            "isVip": 0
        }
    },
    "msg": "success"
}
```

</details>
