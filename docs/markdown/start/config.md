# 配置项说明

`adapter-yunhupro` 适配器的所有配置都在 Koishi 的插件配置页面中完成。

本页将详细介绍每个配置项的含义和用法。

## 基础设置

### 机器人配置列表 (`botTable`)

这是适配器的核心配置，它允许您同时管理一个或多个云湖机器人。

`botTable` 是一个列表，列表中的每一项都代表一个独立的机器人实例。您可以通过点击「添加行」来配置多个机器人。

![机器人配置列表](./../../public/assets/b9b1f3af-cb0c-4401-a20c-97bb5af4ee3c.png)

对于列表中的每一项，您需要配置以下字段：

*   **`enable`**: (布尔值)
    *   **描述**: 控制该机器人实例是否启用。只有勾选此项，才会上线对应机器人。
    *   **默认值**: `true`

*   **`botName`**: (字符串)
    *   **描述**: 此名称仅用于辨识，不会影响机器人的实际功能。
    *   **必填**: 是

*   **`botId`**: (字符串)
    *   **描述**: 填写您在云湖平台创建的机器人的 **ID**。
    *   **必填**: 是

*   **`token`**: (字符串)
    *   **描述**: 填写您在云湖平台获取的机器人 **Token**。请妥善保管，不要泄露。
    *   **必填**: 是

*   **`path`**: (字符串)
    *   **描述**: 接收 Webhook 事件的路径。
    *   **默认值**: `/yunhu`

:::warning
**重要**: 如果您配置了多个机器人，**每个机器人的 `path` 必须是唯一的**。

由于云湖下发的webhook没有鉴权、身份验证，所以使用相同的监听地址会导致不同bot的消息混乱。

因此必须设定不同的监听路径来区分机器人的消息。

> 例如，您可以为机器人 A 设置 `/yunhu/bot-a`，为机器人 B 设置 `/yunhu/bot-b`。
>
> 重复的路径会导致只有第一个唯一路径的机器人能正常工作。
:::

## 进阶设置

### 文件上传超时时间 (`uploadTimeout`)

*   **`uploadTimeout`**: (数字)
    *   **描述**: 下载/上传文件的超时时间（秒）。
    *   **默认值**: `120`
    *   **范围**: 30-3600 秒
    *   **步长**: 1 秒

### 音频背景颜色 (`audioBackgroundColor`)

*   **`audioBackgroundColor`**: (字符串)
    *   **描述**: 音频转为视频时使用的背景颜色。
    *   **默认值**: `rgba(0, 0, 0, 1)`
    *   **注意**: 仅RGB通道生效，A通道（透明度）不生效

## 流式消息设置

### 是否开启流式消息 (`enableStream`)

*   **`enableStream`**: (布尔值)
    *   **描述**: 是否开启流式消息。开启后，文本、Markdown消息将以流式消息方式发送。
    *   **默认值**: `false`

### 流式消息总时长 (`streamDuration`)

*   **`streamDuration`**: (数字)
    *   **描述**: 流式消息总时长（秒）。数值越小，发消息越快。流式消息将被标记为`本内容为AI生成，仅供参考`。
    *   **默认值**: `2`
    *   **范围**: 1-10 秒
    *   **步长**: 1 秒
    *   **注意**: 仅在 `enableStream` 为 `true` 时生效

## 界面设置

### 显示云湖控制台入口 (`showConsole`)

*   **`showConsole`**: (布尔值)
    *   **描述**: 是否在侧边栏显示云湖控制台入口。
    *   **默认值**: `false`

## 连接设置

这些是与云湖 API 服务器连接相关的设置。

通常情况下，您**不需要修改**这些默认值。

*   **`endpoint`**: (字符串)
    *   **描述**: 云湖开放平台 API 的主地址，请勿修改。
    *   **默认值**: `https://chat-go.jwzhd.com/open-apis/v1`

*   **`endpointweb`**: (字符串)
    *   **描述**: 云湖 Web API 的地址，请勿修改。
    *   **默认值**: `https://chat-web-go.jwzhd.com/v1`

*   **`resourceEndpoint`**: (字符串)
    *   **描述**: 资源服务器地址，请勿修改。
    *   **默认值**: `https://chat-img.jwznb.com/`

## 调试设置

### 日志调试模式 (`loggerinfo`)

*   **`loggerinfo`**: (布尔值)
    *   **描述**: 日志调试模式。
    *   **默认值**: `false`
    *   **实验性功能**: 是
    *   **建议**: 仅在需要进行问题排查时开启，以免产生过多的日志。
