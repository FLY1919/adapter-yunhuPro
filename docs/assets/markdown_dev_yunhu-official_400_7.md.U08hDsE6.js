import{_ as s,z as t,m as i,ap as e}from"./chunks/framework.bQJNM8pB.js";const k=JSON.parse('{"title":"图片上传","description":"","frontmatter":{},"headers":[],"relativePath":"markdown/dev/yunhu-official/400/7.md","filePath":"markdown/dev/yunhu-official/400/7.md","lastUpdated":1763232014000}'),n={name:"markdown/dev/yunhu-official/400/7.md"};function p(l,a,d,h,o,c){return i(),t("div",null,[...a[0]||(a[0]=[e(`<h1 id="图片上传" tabindex="-1">图片上传 <a class="header-anchor" href="#图片上传" aria-label="Permalink to &quot;图片上传&quot;">​</a></h1><h2 id="请求url" tabindex="-1">请求URL <a class="header-anchor" href="#请求url" aria-label="Permalink to &quot;请求URL&quot;">​</a></h2><p><code>https://chat-go.jwzhd.com/open-apis/v1/image/upload?token=016ec8e4d17a4fbda3ccb0e99b44aca0</code></p><h3 id="请求类型" tabindex="-1">请求类型 <a class="header-anchor" href="#请求类型" aria-label="Permalink to &quot;请求类型&quot;">​</a></h3><p><code>POST</code></p><h3 id="请求头" tabindex="-1">请求头 <a class="header-anchor" href="#请求头" aria-label="Permalink to &quot;请求头&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">Content-Type:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;multipart/form-data&quot;</span></span></code></pre></div><h3 id="请求参数" tabindex="-1">请求参数 <a class="header-anchor" href="#请求参数" aria-label="Permalink to &quot;请求参数&quot;">​</a></h3><table tabindex="0"><thead><tr><th>字段</th><th>类型</th><th>是否必填</th><th>说明</th></tr></thead><tbody><tr><td>image</td><td>file</td><td>是</td><td>图片内容，仅限单个图片，上传图片大小不超过 10MB</td></tr></tbody></table><h3 id="响应内容" tabindex="-1">响应内容 <a class="header-anchor" href="#响应内容" aria-label="Permalink to &quot;响应内容&quot;">​</a></h3><table tabindex="0"><thead><tr><th>字段</th><th>类型</th><th>说明</th></tr></thead><tbody><tr><td>code</td><td>int</td><td>响应代码</td></tr><tr><td>msg</td><td>string</td><td>响应信息，包括异常信息</td></tr><tr><td>data</td><td>Object</td><td>返回数据</td></tr></tbody></table><h2 id="完整示例" tabindex="-1">完整示例 <a class="header-anchor" href="#完整示例" aria-label="Permalink to &quot;完整示例&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --location</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;https://chat-go.jwzhd.com/open-apis/v1/image/upload?token=016ec8e4d17a4fbda3ccb0e99b44aca0&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">--header </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;Content-Type: multipart/form-data&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">--form </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;image=@&quot;/D:/Pictures/素材图片/7.jpg&quot;&#39;</span></span></code></pre></div><h4 id="图片上传响应示例" tabindex="-1">图片上传响应示例 <a class="header-anchor" href="#图片上传响应示例" aria-label="Permalink to &quot;图片上传响应示例&quot;">​</a></h4><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;code&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">        &quot;imageKey&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;FkaP4yunD3qbwZG2YEQQtwWog7ai&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    },</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;msg&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;success&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><p>上传图片时，必须带有文件后缀名。</p><p>请根据MIME类型确定相应的扩展名。</p><blockquote><p>即：注意上传网络图片的时候，如果URL里不带后缀名，需要处理后缀名后再上传。</p></blockquote><h3 id="特别注意" tabindex="-1">特别注意 <a class="header-anchor" href="#特别注意" aria-label="Permalink to &quot;特别注意&quot;">​</a></h3><p>当文件被上传之后，云湖会进行一次文件后缀名处理。</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p><strong>特殊地</strong></p><p>当MIME类型为 <code>image/jpeg</code> 时，文件扩展名应为 <code>.jpg</code>，不要使用<code>.jpeg</code>。</p></div><p>例如上传的文件信息为</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span>文件名: c91bb351c5fc283dfd9c95d0ec5d6c88.jpg [5/5]</span></span>
<span class="line"><span>图片大小: 152.0KB</span></span>
<span class="line"><span>修改日期: 2025/11/15 22:32:31</span></span>
<span class="line"><span>图片信息: 1024x1024 (Jpeg,YUV420)</span></span></code></pre></div><p>即：上传一张<code>.jpeg</code>图片文件，会被云湖存储后将后缀名改为<code>.jpg</code></p><p>比对文件URL：</p><ul><li><code>https://chat-img.jwznb.com/c91bb351c5fc283dfd9c95d0ec5d6c88.jpg</code></li><li><code>https://chat-img.jwznb.com/c91bb351c5fc283dfd9c95d0ec5d6c88.jpeg</code></li></ul><p>如果访问上述的 <code>.jpeg</code> 文件，会得到返回</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E06C75;">    &quot;error&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Document not found&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></div><p>代表 <strong>文件不存在</strong>。</p>`,30)])])}const u=s(n,[["render",p]]);export{k as __pageData,u as default};
