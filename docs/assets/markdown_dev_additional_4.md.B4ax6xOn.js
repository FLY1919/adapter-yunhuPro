import{_ as e,z as t,m as s,ap as i}from"./chunks/framework.bQJNM8pB.js";const k=JSON.parse('{"title":"功能限制与实现细节","description":"","frontmatter":{},"headers":[],"relativePath":"markdown/dev/additional/4.md","filePath":"markdown/dev/additional/4.md","lastUpdated":1761497998000}'),o={name:"markdown/dev/additional/4.md"};function l(r,a,d,n,h,p){return s(),t("div",null,[...a[0]||(a[0]=[i(`<h1 id="功能限制与实现细节" tabindex="-1">功能限制与实现细节 <a class="header-anchor" href="#功能限制与实现细节" aria-label="Permalink to &quot;功能限制与实现细节&quot;">​</a></h1><h2 id="音视频格式转换" tabindex="-1">音视频格式转换 <a class="header-anchor" href="#音视频格式转换" aria-label="Permalink to &quot;音视频格式转换&quot;">​</a></h2><p>云湖的机器人接口不支持直接发送音频文件。</p><p>因此，当您尝试发送音频时，本适配器会自动调用 <code>ctx.ffmpeg</code> 将其转换为视频格式，然后再进行发送。</p><h2 id="文件大小限制" tabindex="-1">文件大小限制 <a class="header-anchor" href="#文件大小限制" aria-label="Permalink to &quot;文件大小限制&quot;">​</a></h2><p>云湖对不同类型的文件有不同的上传大小限制：</p><ul><li><strong>图片</strong>：最大 10MB</li><li><strong>视频</strong>：最大 20MB</li><li><strong>其他文件</strong>：最大 20MB</li></ul><p>为了尽可能确保文件能成功发送：</p><ul><li><strong>视频</strong>：如果视频大小超过 20MB，适配器会尝试使用 <code>ctx.ffmpeg</code> 对其进行压缩，直到符合大小限制。</li><li><strong>图片和文件</strong>：如果图片或其他文件的大小超限，适配器无法进行处理，将会直接抛出错误。</li></ul><h2 id="图片资源访问" tabindex="-1">图片资源访问 <a class="header-anchor" href="#图片资源访问" aria-label="Permalink to &quot;图片资源访问&quot;">​</a></h2><p>直接访问云湖的图片 URL 会因为缺少 <code>Referer</code> 请求头而导致 <code>403 Forbidden</code> 错误。</p><p>您必须在请求中添加正确的 <code>Referer</code> 头才能成功获取图片。</p><p>以下是一个使用 <code>curl</code> 访问图片的示例：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light one-dark-pro vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --location</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &#39;https://chat-img.jwznb.com/a0068c6770fe2df08d1923287bb9cdbf.jpg&#39;</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">--header </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&#39;Referer: https://www.yhchat.com/&#39;</span></span></code></pre></div><h2 id="额外接口的来源" tabindex="-1">额外接口的来源 <a class="header-anchor" href="#额外接口的来源" aria-label="Permalink to &quot;额外接口的来源&quot;">​</a></h2><p>本适配器提供的一些非官方的额外接口，</p><p>其实现逻辑来源于对以下几个 Web 页面的网络请求分析：</p><ul><li><code>https://www.yhchat.com/user/homepage/7756242</code></li><li><code>https://yhfx.jwznb.com/share?key=0FRmLHlPL47M&amp;ts=1761497803</code></li><li><code>https://yhfx.jwznb.com/share?key=m7Z4l2bLBWt2&amp;ts=1761497822</code></li></ul>`,18)])])}const m=e(o,[["render",l]]);export{k as __pageData,m as default};
